## Stage 模型和 FA 模型有什么区别

在 HarmonyOS（鸿蒙操作系统）中，Stage 模型和 FA（Feature Ability）模型是两种不同的应用模型，它们用于构建和管理应用程序的不同部分。

1. **FA（Feature Ability）模型**：

    - Feature Ability 是 HarmonyOS 中的一个核心概念，它代表了应用的一个独立功能单元。
    - FA 可以是服务类型的，也就是后台长期运行的服务，不提供用户界面；或者是页面类型的，提供用户界面，用于与用户交互。
    - FAs 是分布式的，可以跨设备运行，支持 HarmonyOS 的分布式能力。

2. **Stage 模型**：
    - Stage 模型是 HarmonyOS 3.0 中引入的一个新概念，用于更好地管理应用程序的生命周期和用户界面。
    - Stage 代表了一个应用程序的场景或状态，可以包含一个或多个页面（Page），用于组织和管理用户界面。
    - Stage 模型允许应用程序更加灵活地处理多窗口和多任务场景，提高了用户界面的组织和管理效率。

两者的主要区别在于它们的设计目的和使用场景：FA 模型更侧重于应用的功能模块，支持分布式能力，而 Stage 模型侧重于应用的用户界面和生命周期管理。开发者可以根据应用的需求选择合适的模型来构建应用。

## 项目基础目录以及配置

-   AppScope > app.json5：应用的全局配置信息。
-   entry：HarmonyOS 工程模块，编译构建生成一个 HAP 包。
    -   src > main > ets：用于存放 ArkTS 源码。
    -   src > main > ets > entryability：应用/服务的入口。
    -   src > main > ets > pages：应用/服务包含的页面。
    -   src > main > resources：用于存放应用/服务所用到的资源文件，如图形、多媒体、字符串、布局文件等。关于资源文件，详见资源分类与访问。
    -   src > main > module.json5：Stage 模型模块配置文件。主要包含 HAP 包的配置信息、应用/服务在具体设备上的配置信息以及应用/服务的全局配置信息。具体的配置文件说明，详见 module.json5 配置文件。
    -   build-profile.json5：当前的模块信息、编译信息配置项，包括 buildOption、targets 配置等。其中 targets 中可配置当前运行环境，默认为 HarmonyOS。
    -   hvigorfile.ts：模块级编译构建任务脚本，开发者可以自定义相关任务和代码实现。
    -   oh-package.json5：用来定义应用或模块的配置信息的。它包含了应用的包名、版本号、描述、依赖关系等信息。
    -   oh-package-lock.json5 锁定项目依赖的版本。
-   oh_modules：用于存放三方库依赖信息。关于原 npm 工程适配 ohpm 操作，请参考历史工程迁移。
-   build-profile.json5：应用级配置信息，包括签名、产品配置等。
-   hvigorfile.ts：应用级编译构建任务脚本。

entry 可以是任意的名称，并且可以包含多层文件进行组织，在模块中通过 index.ets 中通过 export 导出模块供其它模块使用。

如一个叫 common 的模块：

index.ets：

```ts
export { EmptyComponent } from './src/main/ets/components/EmptyComponent';
```

oh-package.json5：

```json
{
    "license": "ISC",
    "types": "",
    "devDependencies": {},
    "name": "@ohos/common",
    "description": "a npm package which contains arkUI2.0 page",
    "main": "index.ets",
    "version": "1.0.0",
    "dependencies": {}
}
```

外部模块使用：

```ts
import { EmptyComponent } from '@ohos/common';

build() {
    return ...
        EmptyComponent()
    ...
}
```
